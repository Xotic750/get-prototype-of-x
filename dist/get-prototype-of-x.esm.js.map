{"version":3,"sources":["../src/get-prototype-of-x.js"],"names":[],"mappings":"AAAA,OAAO,UAAP,MAAuB,eAAvB;AACA,OAAO,QAAP,MAAqB,aAArB;AACA,OAAO,SAAP,MAAsB,cAAtB;AAEA,IAAM,SAAS,GAAG,GAAG,WAArB;AACA,IAAM,oBAAoB,GAAG,SAAS,CAAC,cAAvC;;AAEA,IAAM,KAAK,GAAG,SAAS,KAAT,GAAiB;AAC7B,MAAM,cAAc,GAAG,EAAvB;AACA;;AACA,MAAM,GAAG,GAAG,SAAS,GAAT,GAAe,CAAE,CAA7B;;AAEA,EAAA,GAAG,CAAC,SAAJ,GAAgB,cAAhB;AACA,MAAM,GAAG,GAAG,IAAI,GAAJ,EAAZ;;AAEA,MAAI;AACF,WAAO,oBAAoB,CAAC,GAAD,CAApB,KAA8B,cAArC;AACD,GAFD,CAEE,OAAO,MAAP,EAAe;AACf,WAAO,KAAP;AACD;AACF,CAbD;;AAeA,IAAM,SAAS,GAAG,SAAS,CAAC,oBAAD,CAAT,IAAmC,KAAK,EAA1D;;AAEA,IAAM,qBAAqB,GAAG,SAAS,cAAT,CAAwB,GAAxB,EAA6B;AACzD,SAAO,oBAAoB,CAAC,QAAQ,CAAC,GAAD,CAAT,CAA3B;AACD,CAFD;;AAIA,OAAO,IAAM,cAAc,GAAG,SAAS,cAAT,CAAwB,GAAxB,EAA6B;AACzD,MAAM,MAAM,GAAG,QAAQ,CAAC,GAAD,CAAvB;AACA;;AACA,MAAM,KAAK,GAAG,MAAM,CAAC,SAArB;;AAEA,MAAI,KAAK,IAAI,KAAK,KAAK,IAAvB,EAA6B;AAC3B,WAAO,KAAP;AACD;;AAED,MAAI,UAAU,CAAC,MAAM,CAAC,WAAR,CAAd,EAAoC;AAClC,WAAO,MAAM,CAAC,WAAP,CAAmB,SAA1B;AACD;;AAED,MAAI,MAAM,YAAY,SAAtB,EAAiC;AAC/B,WAAO,SAAS,CAAC,SAAjB;AACD;;AAED,SAAO,IAAP;AACD,CAlBM;AAoBP;;;;;;;;;AAQA,IAAM,GAAG,GAAG,SAAS,GAAG,qBAAH,GAA2B,cAAhD;AAEA,eAAe,GAAf","file":"get-prototype-of-x.esm.js","sourcesContent":["import isFunction from 'is-function-x';\nimport toObject from 'to-object-x';\nimport toBoolean from 'to-boolean-x';\n\nconst ObjectCtr = {}.constructor;\nconst nativeGetPrototypeOf = ObjectCtr.getPrototypeOf;\n\nconst test1 = function test1() {\n  const prototypeOfCtr = {};\n  /* eslint-disable-next-line lodash/prefer-noop */\n  const Ctr = function Ctr() {};\n\n  Ctr.prototype = prototypeOfCtr;\n  const ctr = new Ctr();\n\n  try {\n    return nativeGetPrototypeOf(ctr) === prototypeOfCtr;\n  } catch (ignore) {\n    return false;\n  }\n};\n\nconst isWorking = toBoolean(nativeGetPrototypeOf) && test1();\n\nconst patchedGetPrototypeOf = function getPrototypeOf(obj) {\n  return nativeGetPrototypeOf(toObject(obj));\n};\n\nexport const implementation = function getPrototypeOf(obj) {\n  const object = toObject(obj);\n  /* eslint-disable-next-line no-proto */\n  const proto = object.__proto__;\n\n  if (proto || proto === null) {\n    return proto;\n  }\n\n  if (isFunction(object.constructor)) {\n    return object.constructor.prototype;\n  }\n\n  if (object instanceof ObjectCtr) {\n    return ObjectCtr.prototype;\n  }\n\n  return null;\n};\n\n/**\n * This method returns the prototype (i.e. The value of the internal [[Prototype]] property)\n * of the specified object.\n *\n * @function getPrototypeOf\n * @param {*} obj - The object whose prototype is to be returned.\n * @returns {object} The prototype of the given object. If there are no inherited properties, null is returned.\n */\nconst gpo = isWorking ? patchedGetPrototypeOf : implementation;\n\nexport default gpo;\n"]}